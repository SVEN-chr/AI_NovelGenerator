# ğŸ“– è‡ªåŠ¨å°è¯´ç”Ÿæˆå·¥å…·

>- ç›®å‰å¼€å­¦äº†ï¼Œæ²¡ä»€ä¹ˆæ—¶é—´ç»´æŠ¤è¯¥é¡¹ç›®ï¼Œåç»­æ›´æ–°å¯èƒ½å¾—ç­‰é•¿å‡æ‰èƒ½ç»§ç»­

<div align="center">
  
âœ¨ **æ ¸å¿ƒåŠŸèƒ½** âœ¨

| åŠŸèƒ½æ¨¡å—          | å…³é”®èƒ½åŠ›                          |
|-------------------|----------------------------------|
| ğŸ¨ å°è¯´è®¾å®šå·¥åŠ    | ä¸–ç•Œè§‚æ¶æ„ / è§’è‰²è®¾å®š / å‰§æƒ…è“å›¾   |
| ğŸ“– æ™ºèƒ½ç« èŠ‚ç”Ÿæˆ    | å¤šé˜¶æ®µç”Ÿæˆä¿éšœå‰§æƒ…è¿è´¯æ€§           |
| ğŸ§  çŠ¶æ€è¿½è¸ªç³»ç»Ÿ    | è§’è‰²å‘å±•è½¨è¿¹ / ä¼ç¬”ç®¡ç†ç³»ç»Ÿ         |
| ğŸ” è¯­ä¹‰æ£€ç´¢å¼•æ“    | åŸºäºå‘é‡çš„é•¿ç¨‹ä¸Šä¸‹æ–‡ä¸€è‡´æ€§ç»´æŠ¤      |
| ğŸ“š çŸ¥è¯†åº“é›†æˆ      | æ”¯æŒæœ¬åœ°æ–‡æ¡£å‚è€ƒ         |
| âœ… è‡ªåŠ¨å®¡æ ¡æœºåˆ¶    | æ£€æµ‹å‰§æƒ…çŸ›ç›¾ä¸é€»è¾‘å†²çª          |
| ğŸ–¥ å¯è§†åŒ–å·¥ä½œå°    | å…¨æµç¨‹GUIæ“ä½œï¼Œé…ç½®/ç”Ÿæˆ/å®¡æ ¡ä¸€ä½“åŒ– |

</div>

> ä¸€æ¬¾åŸºäºå¤§è¯­è¨€æ¨¡å‹çš„å¤šåŠŸèƒ½å°è¯´ç”Ÿæˆå™¨ï¼ŒåŠ©æ‚¨é«˜æ•ˆåˆ›ä½œé€»è¾‘ä¸¥è°¨ã€è®¾å®šç»Ÿä¸€çš„é•¿ç¯‡æ•…äº‹

2025-03-05 æ·»åŠ è§’è‰²åº“åŠŸèƒ½

2025-03-09 æ·»åŠ å­—æ•°æ˜¾ç¤º

2025-03-13 
1ã€æ–°å¢é—²äº‘ä¿®æ”¹ï¼›
2ã€æŠŠæœ¬ç« æŒ‡å¯¼æ”¹æˆå†…å®¹æŒ‡å¯¼ï¼›
3ã€åœ¨ç”Ÿæˆæ¶æ„ä¸­çš„ï¼š 2. è§’è‰²åŠ¨åŠ›å­¦è®¾å®šï¼ˆè§’è‰²å¼§å…‰æ¨¡å‹ï¼‰ã€ 3. ä¸–ç•Œæ„å»ºçŸ©é˜µï¼ˆä¸‰ç»´åº¦äº¤ç»‡æ³•ï¼‰ã€ 4. æƒ…èŠ‚æ¶æ„ï¼ˆä¸‰å¹•å¼æ‚¬å¿µï¼‰ä¸ç”Ÿæˆç›®å½•çš„ï¼š5. ç« èŠ‚ç›®å½•ç”Ÿæˆï¼ˆæ‚¬å¿µèŠ‚å¥æ›²çº¿ï¼‰åŠ å…¥å¼•å¯¼è¯å†…å®¹æŒ‡å¯¼ï¼Œä»¥æ–¹ä¾¿ç”Ÿæˆè§’è‰²åŠ¨åŠ›å­¦æ—¶åªä»¥æ ¸å¿ƒç§å­ç”Ÿæˆï¼Œå¯¼è‡´ç”Ÿæˆçš„å†…å®¹ä¸å®é™…éœ€æ±‚ä¸ç¬¦ã€‚
4ã€åœ¨ç»ˆç«¯åŠ å›è¢«åˆ é™¤çš„LLMæç¤ºè¯ä¸LLMè¿”å›å†…å®¹æ˜¾ç¤ºï¼Œä»¥ä¾¿å¤ç›˜ï¼Œå‚è€ƒä¿®æ”¹æç¤ºè¯ã€‚
---

## ğŸ“‘ ç›®å½•å¯¼èˆª
1. [Rust CLI å¿«é€Ÿä¸Šæ‰‹](#-rust-cli-å¿«é€Ÿä¸Šæ‰‹)
2. [ç¯å¢ƒå‡†å¤‡](#-ç¯å¢ƒå‡†å¤‡)
3. [é¡¹ç›®æ¶æ„](#-é¡¹ç›®æ¶æ„)
4. [é…ç½®æŒ‡å—](#âš™ï¸-é…ç½®æŒ‡å—)
5. [è¿è¡Œè¯´æ˜](#ğŸš€-è¿è¡Œè¯´æ˜)
6. [ä½¿ç”¨æ•™ç¨‹](#ğŸ“˜-ä½¿ç”¨æ•™ç¨‹)
7. [ç–‘éš¾è§£ç­”](#â“-ç–‘éš¾è§£ç­”)

---

## ğŸ¦€ Rust CLI å¿«é€Ÿä¸Šæ‰‹
Rust ç‰ˆå‘½ä»¤è¡Œå·¥å…· `novelctl` å¤åˆ»äº†åŸæœ‰ GUI çš„ã€Œæ¶æ„ âœ è“å›¾ âœ ç« èŠ‚ âœ å®šç¨¿ âœ çŸ¥è¯†å¯¼å…¥ã€æµç¨‹ï¼Œæ›´é€‚åˆè„šæœ¬åŒ–å’Œè‡ªåŠ¨åŒ–åœºæ™¯ã€‚

### å®‰è£… Rust å·¥å…·é“¾
- å»ºè®®ä½¿ç”¨ [rustup](https://www.rust-lang.org/zh-CN/tools/install) å®‰è£…ç¨³å®šç‰ˆå·¥å…·é“¾ï¼š
  ```bash
  curl --proto '=https' --tlsv1.2 -sSf https://sh.rustup.rs | sh
  rustup default stable
  ```
- å®‰è£…å®Œæˆåç¡®è®¤ `cargo --version` è¾“å‡ºæ— è¯¯å³å¯ã€‚

### æ„å»ºä¸è¿è¡Œ novelctl
```bash
cd AI_NovelGenerator
cargo build --release -p novelctl      # ç”Ÿæˆ release ç‰ˆ CLIï¼ˆä½äº target/release/novelctlï¼‰
cargo run -p novelctl -- --help        # æŸ¥çœ‹å®Œæ•´å‘½ä»¤è¯´æ˜
```
é¦–æ¬¡æ‰§è¡Œå¯ç›´æ¥ä½¿ç”¨ `cargo run -p novelctl -- <subcommand>`ï¼Œåç»­å¯å°† `target/release/novelctl` åŠ å…¥ `PATH` ä»¥ä¾¿å…¨å±€è°ƒç”¨ã€‚

### é…ç½®æ–‡ä»¶å¤ç”¨
`novelctl` ç›´æ¥è¯»å–æ ¹ç›®å½•çš„ `config.json`ï¼Œå­—æ®µä¸ Python GUI ç‰ˆæœ¬ä¿æŒä¸€è‡´ï¼ˆè§ä¸‹æ–‡é…ç½®æŒ‡å—ï¼‰ã€‚ç¡®ä¿ä»¥ä¸‹ä¿¡æ¯å·²å¡«å……ï¼š
- `llm_profiles` / `embedding_profiles`ï¼šå‘½åçš„æ¨¡å‹é…ç½®ï¼Œå¯é€šè¿‡ `--llm-interface` æˆ– `--embedding-interface` é€‰æ‹©ã€‚
- `novel`ï¼šåŒ…å« `topic`ã€`genre`ã€`num_chapters`ã€`word_number`ã€`filepath` ç­‰åŸºç¡€å‚æ•°ã€‚
- `prompts.custom_directories`ï¼šå¯é€‰è‡ªå®šä¹‰æç¤ºè¯ç›®å½•ï¼Œä¸ GUI å…±ç”¨åŒä¸€å¥—æ¨¡æ¿ã€‚

### å‘½ä»¤é€ŸæŸ¥
```bash
# æµ‹è¯•æ¨¡å‹è¿é€šæ€§
novelctl config test-llm --interface openai
novelctl config test-embedding --interface default

# ç”Ÿæˆ/ç»­è·‘ä¸–ç•Œè§‚æ¶æ„ï¼ˆStep1ï¼‰
novelctl architecture generate \
  --llm-interface openai \
  --guidance "æ›´çªå‡ºä¸»è§’æˆé•¿" \
  --max-retries 4

# ç”Ÿæˆç« èŠ‚è“å›¾ï¼ˆStep2ï¼‰
novelctl blueprint generate \
  --llm-interface openai \
  --guidance "æ”¶æŸä¸‰å¹•å¼èŠ‚å¥" \
  --max-tokens 4096

# ç”Ÿæˆç« èŠ‚è‰ç¨¿ï¼ˆStep3ï¼‰
novelctl chapter draft \
  --id 1 \
  --llm-interface openai \
  --embedding-interface default \
  --guidance "çªå‡ºåæ´¾ä¼ç¬”" \
  --retrieval-k 4 \
  --history 3

# å®šç¨¿ç« èŠ‚å¹¶å†™å…¥æ‘˜è¦/è§’è‰²çŠ¶æ€/å‘é‡åº“ï¼ˆStep4ï¼‰
novelctl chapter finalize --id 1 --llm-interface openai --embedding-interface default

# å¯¼å…¥çŸ¥è¯†åº“åˆ°å‘é‡æ•°æ®åº“ï¼ˆStep5ï¼‰
novelctl knowledge import \
  --file docs/lore.md \
  --embedding-interface default \
  --vector-url http://localhost:6333 \
  --collection novel_collection
```
æ‰€æœ‰å­å‘½ä»¤å‡æ”¯æŒ `--config <path>` æŒ‡å®šé…ç½®æ–‡ä»¶ï¼Œé»˜è®¤ä¸ºä»“åº“æ ¹ç›®å½•çš„ `config.json`ã€‚

### è‡ªåŠ¨åŒ–è„šæœ¬
ä»“åº“æ ¹ç›®å½•æ–°å¢ `Justfile`ï¼Œå¯ä¸€é”®æ‰§è¡Œå¸¸è§ä»»åŠ¡ï¼š
```bash
just fmt       # cargo fmt --all
just clippy    # cargo clippy --workspace --all-targets -- -D warnings
just test      # cargo test --workspace
just ci        # ä¾æ¬¡æ‰§è¡Œ fmt + clippy + test
just package   # cargo build --release -p novelctl
```
å¦‚æœªå®‰è£… `just`ï¼Œå¯é€šè¿‡ `cargo install just` è·å–ã€‚

### æµ‹è¯•ä¸å›å½’
- `cargo test --workspace`ï¼šæ‰§è¡ŒåŒ…å« `full_generation_pipeline_produces_expected_artifacts` åœ¨å†…çš„é›†æˆæµ‹è¯•ï¼Œä½¿ç”¨ mock LLM/Embedding æ¨¡æ‹Ÿä»æ¶æ„åˆ°å®šç¨¿çš„å®Œæ•´é“¾è·¯ï¼Œç¡®ä¿å…³é”®ä¸šåŠ¡æµç¨‹å›å½’ç¨³å®šã€‚
- å¦‚éœ€åªè¿è¡Œæ ¸å¿ƒæ¨¡å—æµ‹è¯•ï¼Œå¯ä½¿ç”¨ `cargo test -p novel-core`ã€‚

### æ‰“åŒ…ä¸å‘å¸ƒ
- `just package` æˆ– `cargo build --release -p novelctl` å³å¯äº§å‡ºè·¨å¹³å°å¯æ‰§è¡Œæ–‡ä»¶ã€‚
- å¯å°† `target/release/novelctl` å‹ç¼©å‘å¸ƒï¼Œæˆ–ç»“åˆä¸‹æ–¹çš„å‘å¸ƒæ–¹æ¡ˆç”Ÿæˆå®‰è£…åŒ…ã€‚

### è·¨å¹³å°å‘å¸ƒæ–¹æ¡ˆè¯„ä¼°
| å¹³å° | æ¨èæ–¹æ¡ˆ | è¯´æ˜ |
|------|----------|------|
| Windows | [`cargo-wix`](https://github.com/volks73/cargo-wix) / [`cargo-bundle`](https://github.com/burtonageo/cargo-bundle) | ç”Ÿæˆ MSI å®‰è£…åŒ…æˆ–æºå¸¦å›¾æ ‡çš„ç‹¬ç«‹ EXEï¼Œæ”¯æŒåœ¨ CI ä¸­è‡ªåŠ¨ç­¾åã€‚|
| macOS | `cargo-bundle`ï¼ˆç”Ÿæˆ `.app` + `.dmg`ï¼‰ | å¯ç»“åˆ `codesign` ä¸ `notarytool` å®Œæˆç­¾åä¸å…¬è¯ï¼Œæ»¡è¶³ Gatekeeper è¦æ±‚ã€‚|
| Linux | [`cargo-deb`](https://github.com/mmstick/cargo-deb) / [`cargo-rpm`](https://github.com/RustRPM/cargo-rpm) | äº§å‡º `.deb` æˆ– `.rpm` åŒ…ï¼Œä¾¿äºç³»ç»Ÿçº§å®‰è£…ä¸å‡çº§ã€‚|
| å›¾å½¢ç•Œé¢æ‰©å±• | [Tauri](https://tauri.app/) + `cargo tauri build` | è‹¥åç»­è®¡åˆ’ç»Ÿä¸€ GUI ä¸ CLIï¼Œå¯å¤ç”¨ Rust æ ¸å¿ƒé€»è¾‘ï¼ŒåŒæ—¶æ‰“åŒ… Windows/macOS/Linux åº”ç”¨ã€‚|

ä¸Šè¿°å·¥å…·å‡å¯æ— ç¼æ¥å…¥ç°æœ‰ `Justfile`ï¼Œå½¢æˆã€Œæ„å»º âœ æµ‹è¯• âœ æ‰“åŒ… âœ å‘å¸ƒã€çš„ä¸€é”®æµç¨‹ã€‚

## ğŸ›  ç¯å¢ƒå‡†å¤‡
ç¡®ä¿æ»¡è¶³ä»¥ä¸‹è¿è¡Œæ¡ä»¶ï¼š
- **Rust 1.75+** å·¥å…·é“¾ä¸ `cargo`ï¼ˆç”¨äº `novelctl` CLIï¼‰
- **just**ï¼ˆå¯é€‰ï¼Œç”¨äºæ‰§è¡Œè‡ªåŠ¨åŒ–è„šæœ¬ï¼‰
- **Python 3.9+** è¿è¡Œç¯å¢ƒï¼ˆæ¨è3.10-3.12ä¹‹é—´ï¼Œç”¨äºåŸ GUIï¼‰
- **pip** åŒ…ç®¡ç†å·¥å…·
- æœ‰æ•ˆAPIå¯†é’¥ï¼š
  - äº‘ç«¯æœåŠ¡ï¼šOpenAI / DeepSeek ç­‰
  - æœ¬åœ°æœåŠ¡ï¼šOllama ç­‰å…¼å®¹ OpenAI çš„æ¥å£

---


## ğŸ“¥ å®‰è£…è¯´æ˜

### Rust CLIï¼ˆnovelctlï¼‰
1. **è·å–é¡¹ç›®æºç **
   ```bash
   git clone https://github.com/YILING0013/AI_NovelGenerator
   cd AI_NovelGenerator
   ```
2. **æ„å»º CLI**
   ```bash
   cargo build --release -p novelctl
   ```
   ç”Ÿæˆçš„äºŒè¿›åˆ¶ä½äº `target/release/novelctl`ã€‚
3. **ï¼ˆå¯é€‰ï¼‰å®‰è£… just**
   ```bash
   cargo install just
   ```

### Python GUIï¼ˆåŸç‰ˆç•Œé¢ï¼‰
1. **ä¸‹è½½é¡¹ç›®**
   - é€šè¿‡ [GitHub](https://github.com) ä¸‹è½½é¡¹ç›® ZIP æ–‡ä»¶ï¼Œæˆ–ä½¿ç”¨ä¸Šæ–¹å‘½ä»¤å…‹éš†ä»“åº“ã€‚
2. **å®‰è£…ç¼–è¯‘å·¥å…·ï¼ˆå¯é€‰ï¼‰**
   - å¦‚æœå¯¹æŸäº›åŒ…æ— æ³•æ­£å¸¸å®‰è£…ï¼Œè®¿é—® [Visual Studio Build Tools](https://visualstudio.microsoft.com/zh-hans/visual-cpp-build-tools/) ä¸‹è½½å¹¶å®‰è£… C++ ç¼–è¯‘å·¥å…·ï¼Œç”¨äºæ„å»ºéƒ¨åˆ†æ¨¡å—åŒ…ï¼›
   - å®‰è£…æ—¶éœ€åœ¨å·¦ä¸Šè§’å‹¾é€‰ **C++ æ¡Œé¢å¼€å‘** ç»„ä»¶ã€‚
3. **å®‰è£…ä¾èµ–å¹¶è¿è¡Œ**
   ```bash
   cd AI_NovelGenerator
   pip install -r requirements.txt
   python main.py
   ```
   è‹¥å‡ºç°ç¼ºå¤±ä¾èµ–ï¼Œå¯æ ¹æ®æç¤ºæ‰‹åŠ¨æ‰§è¡Œ `pip install <package>` å®Œæˆè¡¥é½ã€‚

## ğŸ—‚ é¡¹ç›®æ¶æ„
```
novel-generator/
â”œâ”€â”€ main.py                      # å…¥å£æ–‡ä»¶, è¿è¡Œ GUI
â”œâ”€â”€ ui.py                        # å›¾å½¢ç•Œé¢
â”œâ”€â”€ novel_generator.py           # ç« èŠ‚ç”Ÿæˆæ ¸å¿ƒé€»è¾‘
â”œâ”€â”€ consistency_checker.py       # ä¸€è‡´æ€§æ£€æŸ¥, é˜²æ­¢å‰§æƒ…å†²çª
|â€”â€” chapter_directory_parser.py  # ç›®å½•è§£æ
|â€”â€” embedding_adapters.py        # Embedding æ¥å£å°è£…
|â€”â€” llm_adapters.py              # LLM æ¥å£å°è£…
â”œâ”€â”€ prompt_definitions.py        # å®šä¹‰ AI æç¤ºè¯
â”œâ”€â”€ utils.py                     # å¸¸ç”¨å·¥å…·å‡½æ•°, æ–‡ä»¶æ“ä½œ
â”œâ”€â”€ config_manager.py            # ç®¡ç†é…ç½® (API Key, Base URL)
â”œâ”€â”€ config.json                  # ç”¨æˆ·é…ç½®æ–‡ä»¶ (å¯é€‰)
â””â”€â”€ vectorstore/                 # (å¯é€‰) æœ¬åœ°å‘é‡æ•°æ®åº“å­˜å‚¨
```

---

## âš™ï¸ é…ç½®æŒ‡å—
### ğŸ“Œ åŸºç¡€é…ç½®ï¼ˆconfig.jsonï¼‰
```json
{
    "api_key": "sk-XXXXXXXXXXXXXXXXXXXXXXXXXXXXXX",
    "base_url": "https://api.openai.com/v1",
    "interface_format": "OpenAI",
    "model_name": "gpt-4o-mini",
    "temperature": 0.7,
    "max_tokens": 4096,
    "embedding_api_key": "sk-XXXXXXXXXXXXXXXXXXXXXXXXXXXXXX",
    "embedding_interface_format": "OpenAI",
    "embedding_url": "https://api.openai.com/v1",
    "embedding_model_name": "text-embedding-ada-002",
    "embedding_retrieval_k": 4,
    "topic": "æ˜Ÿç©¹é“é“ä¸»è§’æ˜Ÿç©¿è¶Šåˆ°åŸç¥æç“¦ç‰¹å¤§é™†ï¼Œæ‹¯æ•‘æç“¦ç‰¹å¤§é™†ï¼Œå¹¶ä¸å…¶ä¸­çš„è§’è‰²å±•å¼€çˆ±æ¨æƒ…ä»‡çš„å°è¯´",
    "genre": "ç„å¹»",
    "num_chapters": 120,
    "word_number": 4000,
    "filepath": "D:/AI_NovelGenerator/filepath"
}
```

### ğŸ”§ é…ç½®è¯´æ˜
1. **ç”Ÿæˆæ¨¡å‹é…ç½®**
   - `api_key`: å¤§æ¨¡å‹æœåŠ¡çš„APIå¯†é’¥
   - `base_url`: APIç»ˆç«¯åœ°å€ï¼ˆæœ¬åœ°æœåŠ¡å¡«Ollamaç­‰åœ°å€ï¼‰
   - `interface_format`: æ¥å£æ¨¡å¼
   - `model_name`: ä¸»ç”Ÿæˆæ¨¡å‹åç§°ï¼ˆå¦‚gpt-4, claude-3ç­‰ï¼‰
   - `temperature`: åˆ›æ„åº¦å‚æ•°ï¼ˆ0-1ï¼Œè¶Šé«˜è¶Šæœ‰åˆ›é€ æ€§ï¼‰
   - `max_tokens`: æ¨¡å‹æœ€å¤§å›å¤é•¿åº¦

2. **Embeddingæ¨¡å‹é…ç½®**
   - `embedding_model_name`: æ¨¡å‹åç§°ï¼ˆå¦‚Ollamaçš„nomic-embed-textï¼‰
   - `embedding_url`: æœåŠ¡åœ°å€
   - `embedding_retrieval_k`: 

3. **å°è¯´å‚æ•°é…ç½®**
   - `topic`: æ ¸å¿ƒæ•…äº‹ä¸»é¢˜
   - `genre`: ä½œå“ç±»å‹
   - `num_chapters`: æ€»ç« èŠ‚æ•°
   - `word_number`: å•ç« ç›®æ ‡å­—æ•°
   - `filepath`: ç”Ÿæˆæ–‡ä»¶å­˜å‚¨è·¯å¾„

---

## ğŸš€ è¿è¡Œè¯´æ˜
### **æ–¹å¼ 1ï¼šä½¿ç”¨ Python è§£é‡Šå™¨**
```bash
python main.py
```
æ‰§è¡Œåï¼ŒGUI å°†ä¼šå¯åŠ¨ï¼Œä½ å¯ä»¥åœ¨å›¾å½¢ç•Œé¢ä¸­è¿›è¡Œå„é¡¹æ“ä½œã€‚

### **æ–¹å¼ 2ï¼šæ‰“åŒ…ä¸ºå¯æ‰§è¡Œæ–‡ä»¶**
å¦‚æœä½ æƒ³åœ¨æ—  Python ç¯å¢ƒçš„æœºå™¨ä¸Šä½¿ç”¨æœ¬å·¥å…·ï¼Œå¯ä»¥ä½¿ç”¨ **PyInstaller** è¿›è¡Œæ‰“åŒ…ï¼š

```bash
pip install pyinstaller
pyinstaller main.spec
```
æ‰“åŒ…å®Œæˆåï¼Œä¼šåœ¨ `dist/` ç›®å½•ä¸‹ç”Ÿæˆå¯æ‰§è¡Œæ–‡ä»¶ï¼ˆå¦‚ Windows ä¸‹çš„ `main.exe`ï¼‰ã€‚

---

## ğŸ“˜ ä½¿ç”¨æ•™ç¨‹
1. **å¯åŠ¨åï¼Œå…ˆå®ŒæˆåŸºæœ¬å‚æ•°è®¾ç½®ï¼š**  
   - **API Key & Base URL**ï¼ˆå¦‚ `https://api.openai.com/v1`ï¼‰  
   - **æ¨¡å‹åç§°**ï¼ˆå¦‚ `gpt-3.5-turbo`ã€`gpt-4o` ç­‰ï¼‰  
   - **Temperature** (0~1ï¼Œå†³å®šæ–‡å­—åˆ›æ„ç¨‹åº¦)  
   - **ä¸»é¢˜(Topic)**ï¼ˆå¦‚ â€œåºŸåœŸä¸–ç•Œçš„ AI å›ä¹±â€ï¼‰  
   - **ç±»å‹(Genre)**ï¼ˆå¦‚ â€œç§‘å¹»â€/â€œé­”å¹»â€/â€œéƒ½å¸‚å¹»æƒ³â€ï¼‰  
   - **ç« èŠ‚æ•°**ã€**æ¯ç« å­—æ•°**ï¼ˆå¦‚ 10 ç« ï¼Œæ¯ç« çº¦ 3000 å­—ï¼‰  
   - **ä¿å­˜è·¯å¾„**ï¼ˆå»ºè®®åˆ›å»ºä¸€ä¸ªæ–°çš„è¾“å‡ºæ–‡ä»¶å¤¹ï¼‰

2. **ç‚¹å‡»ã€ŒStep1. ç”Ÿæˆè®¾å®šã€**  
   - ç³»ç»Ÿå°†åŸºäºä¸»é¢˜ã€ç±»å‹ã€ç« èŠ‚æ•°ç­‰ä¿¡æ¯ï¼Œç”Ÿæˆï¼š  
     - `Novel_setting.txt`ï¼šåŒ…å«ä¸–ç•Œè§‚ã€è§’è‰²ä¿¡æ¯ã€é›·ç‚¹æš—çº¿ç­‰ã€‚  
   - å¯ä»¥åœ¨ç”Ÿæˆåçš„ `Novel_setting.txt` ä¸­æŸ¥çœ‹æˆ–ä¿®æ”¹è®¾å®šå†…å®¹ã€‚

3. **ç‚¹å‡»ã€ŒStep2. ç”Ÿæˆç›®å½•ã€**  
   - ç³»ç»Ÿä¼šæ ¹æ®å·²å®Œæˆçš„ `Novel_setting.txt` å†…å®¹ï¼Œä¸ºå…¨éƒ¨ç« èŠ‚ç”Ÿæˆï¼š  
     - `Novel_directory.txt`ï¼šåŒ…æ‹¬æ¯ç« æ ‡é¢˜å’Œç®€è¦æç¤ºã€‚  
   - å¯ä»¥åœ¨ç”Ÿæˆåçš„æ–‡ä»¶ä¸­æŸ¥çœ‹ã€ä¿®æ”¹æˆ–è¡¥å……ç« èŠ‚æ ‡é¢˜å’Œæè¿°ã€‚

4. **ç‚¹å‡»ã€ŒStep3. ç”Ÿæˆç« èŠ‚è‰ç¨¿ã€**  
   - åœ¨ç”Ÿæˆç« èŠ‚ä¹‹å‰ï¼Œä½ å¯ä»¥ï¼š  
     - **è®¾ç½®ç« èŠ‚å·**ï¼ˆå¦‚å†™ç¬¬ 1 ç« ï¼Œå°±å¡« `1`ï¼‰  
     - **åœ¨â€œæœ¬ç« æŒ‡å¯¼â€è¾“å…¥æ¡†**ä¸­æä¾›å¯¹æœ¬ç« å‰§æƒ…çš„ä»»ä½•æœŸæœ›æˆ–æç¤º  
   - ç‚¹å‡»æŒ‰é’®åï¼Œç³»ç»Ÿå°†ï¼š  
     - è‡ªåŠ¨è¯»å–å‰æ–‡è®¾å®šã€`Novel_directory.txt`ã€ä»¥åŠå·²å®šç¨¿ç« èŠ‚  
     - è°ƒç”¨å‘é‡æ£€ç´¢å›é¡¾å‰§æƒ…ï¼Œä¿è¯ä¸Šä¸‹æ–‡è¿è´¯  
     - ç”Ÿæˆæœ¬ç« å¤§çº² (`outline_X.txt`) åŠæ­£æ–‡ (`chapter_X.txt`)  
   - ç”Ÿæˆå®Œæˆåï¼Œä½ å¯åœ¨å·¦ä¾§çš„æ–‡æœ¬æ¡†æŸ¥çœ‹ã€ç¼–è¾‘æœ¬ç« è‰ç¨¿å†…å®¹ã€‚

5. **ç‚¹å‡»ã€ŒStep4. å®šç¨¿å½“å‰ç« èŠ‚ã€**  
   - ç³»ç»Ÿå°†ï¼š  
     - **æ›´æ–°å…¨å±€æ‘˜è¦**ï¼ˆå†™å…¥ `global_summary.txt`ï¼‰  
     - **æ›´æ–°è§’è‰²çŠ¶æ€**ï¼ˆå†™å…¥ `character_state.txt`ï¼‰  
     - **æ›´æ–°å‘é‡æ£€ç´¢åº“**ï¼ˆä¿è¯åç»­ç« èŠ‚å¯ä»¥è°ƒç”¨æœ€æ–°ä¿¡æ¯ï¼‰  
     - **æ›´æ–°å‰§æƒ…è¦ç‚¹**ï¼ˆå¦‚ `plot_arcs.txt`ï¼‰  
   - å®šç¨¿å®Œæˆåï¼Œä½ å¯ä»¥åœ¨ `chapter_X.txt` ä¸­çœ‹åˆ°å®šç¨¿åçš„æ–‡æœ¬ã€‚

6. **ä¸€è‡´æ€§æ£€æŸ¥ï¼ˆå¯é€‰ï¼‰**  
   - ç‚¹å‡»ã€Œ[å¯é€‰] ä¸€è‡´æ€§å®¡æ ¡ã€æŒ‰é’®ï¼Œå¯¹æœ€æ–°ç« èŠ‚è¿›è¡Œå†²çªæ£€æµ‹ï¼Œå¦‚è§’è‰²é€»è¾‘ã€å‰§æƒ…å‰åçŸ›ç›¾ç­‰ã€‚  
   - è‹¥æœ‰å†²çªï¼Œä¼šåœ¨æ—¥å¿—åŒºè¾“å‡ºè¯¦ç»†æç¤ºã€‚

7. **é‡å¤ç¬¬ 4-6 æ­¥** ç›´åˆ°æ‰€æœ‰ç« èŠ‚ç”Ÿæˆå¹¶å®šç¨¿ï¼

> **å‘é‡æ£€ç´¢é…ç½®æç¤º**  
> 1. embeddingæ¨¡å‹éœ€è¦æ˜¾ç¤ºæŒ‡å®šæ¥å£å’Œæ¨¡å‹åç§°ï¼›
> 2. ä½¿ç”¨**æœ¬åœ°Ollama**çš„**Embedding**æ—¶éœ€æå‰å¯åŠ¨OllamaæœåŠ¡ï¼š  
>    ```bash
>    ollama serve  # å¯åŠ¨æœåŠ¡
>    ollama pull nomic-embed-text  # ä¸‹è½½/å¯ç”¨æ¨¡å‹
>    ```
> 3. åˆ‡æ¢ä¸åŒEmbeddingæ¨¡å‹åå»ºè®®æ¸…ç©ºvectorstoreç›®å½•
> 4. äº‘ç«¯Embeddingéœ€ç¡®ä¿å¯¹åº”APIæƒé™å·²å¼€é€š

---

## â“ ç–‘éš¾è§£ç­”
### Q1: Expecting value: line 1 column 1 (char 0)

è¯¥é—®é¢˜å¤§æ¦‚ç‡ç”±äºAPIæœªæ­£ç¡®å“åº”é€ æˆï¼Œä¹Ÿè®¸å“åº”äº†ä¸€ä¸ªhtmlï¼Ÿå…¶å®ƒå†…å®¹ï¼Œå¯¼è‡´å‡ºç°è¯¥æŠ¥é”™ï¼›


### Q2: HTTP/1.1 504 Gateway Timeoutï¼Ÿ
ç¡®è®¤æ¥å£æ˜¯å¦ç¨³å®šï¼›

### Q3: å¦‚ä½•åˆ‡æ¢ä¸åŒçš„Embeddingæä¾›å•†ï¼Ÿ
åœ¨GUIç•Œé¢ä¸­å¯¹åº”è¾“å…¥å³å¯ã€‚

---

å¦‚æœ‰æ›´å¤šé—®é¢˜æˆ–éœ€æ±‚ï¼Œæ¬¢è¿åœ¨**é¡¹ç›® Issues** ä¸­æå‡ºã€‚
